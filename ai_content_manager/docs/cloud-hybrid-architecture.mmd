graph TB
    subgraph "ğŸ”’ Privacy-First Hybrid Architecture"
        subgraph "ğŸ’» Client Side (100% Private)"
            USER_FILES[User Content Files<br/>ğŸ”’ NEVER leaves device]
            LOCAL_AI[TensorFlow.js Models<br/>ğŸ§  Local AI Processing]
            BROWSER_STORAGE[IndexedDB + FileSystem<br/>ğŸ’¾ Local metadata cache]
            CLIENT_APP[AI Content Manager<br/>Single HTML Application]
            
            USER_FILES --> LOCAL_AI
            LOCAL_AI --> BROWSER_STORAGE
            BROWSER_STORAGE --> CLIENT_APP
        end
        
        subgraph "â˜ï¸ Optional Cloud Layer"
            API_GATEWAY[API Gateway<br/>ğŸ›¡ï¸ Authentication & Rate Limiting]
            
            subgraph "ğŸ”§ Microservices"
                USER_SERVICE[User Preferences<br/>Settings & Personalization]
                METADATA_SERVICE[Metadata Sync<br/>ğŸ”’ Encrypted, No Filenames]
                RECOMMENDATION_SERVICE[Smart Recommendations<br/>ğŸ“Š Anonymized Patterns]
                ANALYTICS_SERVICE[Usage Analytics<br/>ğŸ“ˆ Privacy-Preserving]
            end
            
            DATABASE[(PostgreSQL<br/>ğŸ—„ï¸ Metadata Only)]
            REDIS[(Redis Cache<br/>âš¡ Performance)]
            ML_SERVICE[Recommendation ML<br/>ğŸ¤– Pattern Analysis]
            
            API_GATEWAY --> USER_SERVICE
            API_GATEWAY --> METADATA_SERVICE
            API_GATEWAY --> RECOMMENDATION_SERVICE
            API_GATEWAY --> ANALYTICS_SERVICE
            
            USER_SERVICE --> DATABASE
            METADATA_SERVICE --> DATABASE
            METADATA_SERVICE --> REDIS
            RECOMMENDATION_SERVICE --> ML_SERVICE
            ML_SERVICE --> DATABASE
        end
        
        subgraph "ğŸŒ Deployment Infrastructure"
            CDN[Global CDN<br/>ğŸŒ Instant worldwide delivery]
            STATIC_HOST[Static Hosting<br/>ğŸ“ GitHub Pages/Netlify]
            CLOUD_BACKEND[Cloud Backend<br/>â˜ï¸ AWS/GCP/Azure]
            
            CDN --> STATIC_HOST
            STATIC_HOST --> CLIENT_APP
            CLOUD_BACKEND --> API_GATEWAY
        end
    end
    
    subgraph "ğŸ”„ Data Flow & Privacy"
        subgraph "ğŸ“± What Stays Local"
            LOCAL_DATA[âœ… All user files<br/>âœ… AI processing<br/>âœ… Search results<br/>âœ… File analysis]
        end
        
        subgraph "â˜ï¸ What Goes to Cloud (Optional)"
            CLOUD_DATA[âœ… User preferences<br/>âœ… Anonymized usage patterns<br/>âœ… Encrypted metadata hashes<br/>âŒ NO actual files<br/>âŒ NO filenames<br/>âŒ NO personal content]
        end
    end
    
    %% Connections
    CLIENT_APP <-.->|"ğŸ”’ Encrypted API Calls<br/>Metadata Only"| API_GATEWAY
    CLIENT_APP -.->|"ğŸ“Š Anonymous Patterns"| RECOMMENDATION_SERVICE
    CLIENT_APP <-.->|"âš™ï¸ Settings Sync"| USER_SERVICE
    
    %% Privacy-First Indicators  
    USER_FILES -.->|"ğŸ›¡ï¸ NEVER transmitted"| CLIENT_APP
    LOCAL_AI -.->|"ğŸ§  All AI stays local"| CLIENT_APP
    METADATA_SERVICE -.->|"ğŸ”’ Only encrypted hashes"| DATABASE
    
    %% Styling
    classDef client fill:#e8f5e8
    classDef cloud fill:#e3f2fd
    classDef deploy fill:#fff3e0
    classDef privacy_good fill:#c8e6c9
    classDef privacy_cloud fill:#e1f5fe
    classDef infrastructure fill:#f3e5f5
    
    class USER_FILES,LOCAL_AI,BROWSER_STORAGE,CLIENT_APP client
    class API_GATEWAY,USER_SERVICE,METADATA_SERVICE,RECOMMENDATION_SERVICE,ANALYTICS_SERVICE,DATABASE,REDIS,ML_SERVICE cloud  
    class CDN,STATIC_HOST,CLOUD_BACKEND deploy
    class LOCAL_DATA privacy_good
    class CLOUD_DATA privacy_cloud